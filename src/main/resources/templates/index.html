<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Pipeline Demo ‚Äî Deployed</title>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

    <!-- Lottie player for celebration animation -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@1.6.0/dist/lottie-player.js"></script>

    <style>
        :root{
          --bg1: #0f172a;    /* deep navy */
          --bg2: #06202e;    /* tealish */
          --accent1: #7c5cff; /* violet */
          --accent2: #00e0c6; /* mint */
          --glass: rgba(255,255,255,0.08);
          --glass-2: rgba(255,255,255,0.06);
          --card-blur: 10px;
          --radius: 18px;
        }

        html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}

        body{
          background: radial-gradient(1200px 600px at 10% 10%, rgba(124,92,255,0.12), transparent 10%),
                      radial-gradient(900px 500px at 95% 85%, rgba(0,224,198,0.06), transparent 10%),
                      linear-gradient(180deg,var(--bg1),var(--bg2));
          color: #e6eef6;
          -webkit-font-smoothing:antialiased;
          -moz-osx-font-smoothing:grayscale;
          overflow-x:hidden;
        }

        /* container */
        .wrap{
          max-width:1100px;
          margin:48px auto;
          padding:36px;
          display:grid;
          grid-template-columns: 1fr 420px;
          gap:28px;
          align-items:start;
        }

        /* HERO */
        .hero {
          padding:28px;
          background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
          border-radius: var(--radius);
          box-shadow: 0 8px 30px rgba(2,6,23,0.6);
          border: 1px solid rgba(255,255,255,0.04);
          position:relative;
          overflow:visible;
        }

        .headline {
          font-size: clamp(28px, 4.6vw, 48px);
          font-weight:800;
          letter-spacing:-0.02em;
          line-height:1.02;
          margin:0 0 8px 0;
          color: #fff;
          background: linear-gradient(90deg, #fff, #cfefff 40%, rgba(255,255,255,0.9));
          -webkit-background-clip: text;
          background-clip: text;
          color: transparent;
        }

        .subtitle {
          margin:8px 0 20px 0;
          font-weight:400;
          opacity:0.9;
          max-width:70%;
        }

        .kicker {
          display:inline-flex;
          align-items:center;
          gap:10px;
          padding:6px 12px;
          border-radius:999px;
          background: linear-gradient(90deg, rgba(124,92,255,0.14), rgba(0,224,198,0.06));
          color:#dfe9ff;
          font-weight:600;
          font-size:13px;
          margin-bottom:18px;
          box-shadow: 0 4px 18px rgba(0,0,0,0.25), inset 0 1px 0 rgba(255,255,255,0.02);
        }

        /* CTA row */
        .hero-actions{
          display:flex;
          gap:12px;
          margin-top:18px;
          align-items:center;
        }

        .btn {
          background: linear-gradient(90deg,var(--accent1),var(--accent2));
          border:none;
          padding:10px 16px;
          border-radius:12px;
          color:#05222a;
          font-weight:700;
          cursor:pointer;
          box-shadow: 0 8px 24px rgba(124,92,255,0.12);
          transition: transform .18s ease, box-shadow .18s ease;
        }
        .btn:active{ transform: translateY(1px) scale(.998); }
        .btn:focus{ outline:2px solid rgba(255,255,255,0.06); }

        .ghost{
          padding:8px 12px;
          border-radius:12px;
          background:transparent;
          border:1px solid rgba(255,255,255,0.06);
          color:rgba(230,238,246,0.95);
          cursor:pointer;
        }

        /* right column: detail card */
        .panel {
          position:relative;
          height:100%;
          top:0;
        }

        .glass {
          padding:20px;
          border-radius:16px;
          background: linear-gradient(180deg, var(--glass), var(--glass-2));
          backdrop-filter: blur(var(--card-blur));
          border:1px solid rgba(255,255,255,0.04);
          box-shadow: 0 10px 40px rgba(2,6,23,0.65);
        }

        /* dynamic detail cards */
        .detail {
          margin-top:18px;
          display:grid;
          grid-template-columns: 1fr 36px;
          gap:12px;
          align-items:center;
          padding:14px;
          border-radius:12px;
          background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
          border:1px solid rgba(255,255,255,0.02);
          transition: transform .26s cubic-bezier(.16,.84,.44,1), box-shadow .26s;
        }
        .detail:hover{ transform: translateY(-6px); box-shadow: 0 18px 46px rgba(2,6,23,0.6); }

        .detail-title{ font-weight:700; font-size:13px; opacity:0.95; }
        .detail-val{ font-weight:600; font-size:14px; color:#eaf7f3; opacity:0.98; }

        /* small badge */
        .badge {
          display:inline-block;
          padding:6px 10px;
          border-radius:999px;
          background: rgba(0,0,0,0.18);
          color:#dfeef7;
          font-weight:700;
          font-size:12px;
        }

        /* animated wave footer inside hero */
        .wave {
          position:absolute;
          left:-2px;
          right:-2px;
          bottom:-18px;
          height:86px;
          pointer-events:none;
          opacity:0.85;
          transform: translateZ(0);
        }

        /* small features row */
        .features {
          display:flex;
          gap:12px;
          margin-top:22px;
          flex-wrap:wrap;
        }
        .feature {
          background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
          padding:12px 14px;
          border-radius:12px;
          border:1px solid rgba(255,255,255,0.02);
          font-weight:600;
          font-size:13px;
          display:flex;
          gap:10px;
          align-items:center;
        }

        /* Lottie container */
        .art {
          display:flex;
          align-items:center;
          justify-content:center;
          height:100%;
          padding:18px;
        }

        /* responsive */
        @media (max-width:980px){
          .wrap{ grid-template-columns: 1fr; padding:20px; margin:22px; gap:18px;}
          .subtitle{ max-width:100%; }
        }

        /* small floating animation for cards */
        .float {
          animation: floaty 6s ease-in-out infinite;
        }
        @keyframes floaty {
          0%{ transform: translateY(0); }
          50%{ transform: translateY(-8px) rotateZ(.2deg); }
          100%{ transform: translateY(0); }
        }

        /* subtle entrance animations */
        .enter {
          opacity:0;
          transform: translateY(18px) scale(.995);
          animation: enterAnim .7s forwards;
        }
        .enter.delay-1 { animation-delay: .08s; }
        .enter.delay-2 { animation-delay: .16s; }
        .enter.delay-3 { animation-delay: .24s; }
        @keyframes enterAnim {
          to { opacity:1; transform: translateY(0) scale(1); }
        }

        /* focus states for accessibility */
        .detail:focus-within { outline: 2px dashed rgba(255,255,255,0.04); }

    </style>
</head>
<body>
<div class="wrap">

    <!-- LEFT: HERO -->
    <section class="hero enter delay-1">
        <div class="kicker">üéØ Live Demo ‚Ä¢ CI/CD ‚Üí Elastic Beanstalk</div>

        <h1 class="headline" th:text="${title}">YES YOU DID IT ‚Äî Congratulations!</h1>
        <p class="subtitle" th:text="${subtitle}">
            Your application is deployed via AWS CodePipeline & Elastic Beanstalk ‚Äî any change you commit will update this page.
        </p>

        <div class="hero-actions">
            <button class="btn" onclick="triggerConfetti()" aria-label="Celebrate">Celebrate üéâ</button>
            <button class="ghost" onclick="window.location.reload()">Refresh</button>
            <span style="margin-left:auto" class="badge">No DB ‚Ä¢ Zero config</span>
        </div>

        <div class="features">
            <div class="feature">üîÅ Auto deploy on commit</div>
            <div class="feature">‚öôÔ∏è Spring Boot + Thymeleaf</div>
            <div class="feature">üì¶ Elastic Beanstalk</div>
        </div>

        <!-- decorative wave -->
        <svg class="wave" viewBox="0 0 1440 120" preserveAspectRatio="none">
            <defs>
                <linearGradient id="g1" x1="0" x2="1">
                    <stop offset="0" stop-color="#7c5cff" stop-opacity="0.18"/>
                    <stop offset="1" stop-color="#00e0c6" stop-opacity="0.08"/>
                </linearGradient>
            </defs>
            <path d="M0,40 C240,120 420,0 720,40 C1020,80 1200,20 1440,40 L1440 120 L0 120 Z" fill="url(#g1)"/>
        </svg>
    </section>

    <!-- RIGHT: PANEL -->
    <aside class="panel enter delay-2">
        <div class="glass float">
            <div style="display:flex;gap:12px;align-items:center;">
                <div style="flex:1;">
                    <div style="display:flex;gap:10px;align-items:baseline;">
                        <div style="font-size:13px;font-weight:700;opacity:.95">Live Details</div>
                        <div style="font-size:12px;color:rgba(230,238,246,0.8)">‚Äî edit `application.properties` and redeploy</div>
                    </div>
                    <div style="margin-top:10px;font-size:12px;opacity:.9">Preview of values currently served by the app</div>
                </div>

                <!-- small Lottie micro animation -->
                <div style="width:72px;height:72px;border-radius:12px;overflow:hidden;">
                    <lottie-player src="https://assets2.lottiefiles.com/packages/lf20_jbrw3hcz.json"  background="transparent"  speed="1"  loop  autoplay></lottie-player>
                </div>
            </div>

            <!-- dynamic detail rows -->
            <div class="detail" tabindex="0" style="margin-top:18px;">
                <div>
                    <div class="detail-title">Name</div>
                    <div class="detail-val" th:text="${name}">Student Name: Can be edited after commit</div>
                </div>
                <div style="text-align:right;font-size:12px;opacity:.82">üë§</div>
            </div>

            <div class="detail" tabindex="0">
                <div>
                    <div class="detail-title">Batch</div>
                    <div class="detail-val" th:text="${batch}">Batch: Cloud + DevOps Training</div>
                </div>
                <div style="text-align:right;font-size:12px;opacity:.82">üìö</div>
            </div>

            <div class="detail" tabindex="0">
                <div>
                    <div class="detail-title">Message</div>
                    <div class="detail-val" th:text="${message}">This message is dynamic and updated after each deployment!</div>
                </div>
                <div style="text-align:right;font-size:12px;opacity:.82">‚úâÔ∏è</div>
            </div>

            <div style="display:flex;gap:12px;margin-top:14px;align-items:center;">
                <button class="btn" onclick="triggerConfetti()">Celebrate</button>
                <button class="ghost" onclick="copyPreview()">Copy message</button>
                <div style="margin-left:auto;font-size:12px;opacity:.8">Updated on: <strong id="updatedOn">‚Äî</strong></div>
            </div>

        </div>
    </aside>

</div>

<!-- confetti & small helper scripts -->
<script src="/confetti.js"></script>

<script>
    // set a basic timestamp in the UI (build time could be enhanced to show git commit/time)
    const updatedOnEl = document.getElementById('updatedOn');
    updatedOnEl.textContent = new Date().toLocaleString();

    function triggerConfetti(){
      // call confetti start function from confetti.js
      if (window.startConfetti) window.startConfetti();
    }

    function copyPreview(){
      const text = document.querySelector('.detail .detail-val').innerText || '';
      navigator.clipboard?.writeText(text).then(()=> {
        alert('Preview copied to clipboard');
      }).catch(()=> alert('Unable to copy'));
    }
</script>

</body>
</html>
